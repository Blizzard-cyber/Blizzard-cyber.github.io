{"title":"计算机操作系统复习笔记（三）","uid":"7da07456a3be614155ce9d5c6f12f8ad","slug":"OSreview3","date":"2023-03-16T14:27:01.000Z","updated":"2023-03-16T14:47:42.687Z","comments":true,"path":"api/articles/OSreview3.json","keywords":null,"cover":"https://picx.zhimg.com/v2-ab4d2e1f84d9a3d9cd65d7894164bcea_1440w.jpg?source=172ae18b","content":"<p><strong>目录</strong></p>\n<p><a href=\"#%E5%89%8D%E8%A8%80\">前言</a></p>\n<p><a href=\"#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%9A%E5%9F%BA%E7%A1%80\">文件管理：基础</a></p>\n<p>​\t\t<a href=\"#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5\">基本概念</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6\">文件</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\">文件系统</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%A8%A1%E5%9E%8B\">文件系统的实现模型</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%84%E6%88%90\">文件的组成</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6%E5%90%8D\">文件名</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6%E5%88%86%E7%B1%BB\">文件分类</a></p>\n<p>​\t\t<a href=\"#%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84\">文件结构</a></p>\n<p>​\t\t\t\t<a href=\"#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84\">逻辑结构</a></p>\n<p>​\t\t\t\t<a href=\"#%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84\">物理结构</a></p>\n<p>​\t\t\t\t<a href=\"#%E7%BB%83%E4%B9%A0%E9%A2%98%C2%A0\">练习题 </a></p>\n<p><a href=\"#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%9A%E7%9B%AE%E5%BD%95\">文件管理：目录</a></p>\n<p>​\t\t<a href=\"#%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97FCB\">文件控制块FCB</a></p>\n<p>​\t\t\t\t<a href=\"#FCB%EF%BC%9AFile%20Control%20Block\">FCB：File Control Block</a></p>\n<p>​\t\t\t\t<a href=\"#FCB%E4%BF%A1%E6%81%AF\">FCB信息</a></p>\n<p>​\t\t<a href=\"#%E7%9B%AE%E5%BD%95\">目录</a></p>\n<p>​\t\t\t\t<a href=\"#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5\">基本概念</a></p>\n<p>​\t\t\t\t<a href=\"#%E7%9B%AE%E5%BD%95%E5%8A%9F%E8%83%BD\">目录功能</a></p>\n<p>​\t\t\t\t<a href=\"#%E7%9B%AE%E5%BD%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C\">目录基本操作</a></p>\n<p>​\t\t\t\t<a href=\"#%E2%AD%90FCB%E7%BB%84%E7%BB%87%E6%96%B9%E6%B3%95\">⭐FCB组织方法</a></p>\n<p>​\t\t\t\t<a href=\"#%E2%AD%90%E6%94%B9%E8%BF%9B%E7%9A%84FCB%E7%BB%84%E7%BB%87%E6%96%B9%E6%B3%95\">⭐改进的FCB组织方法</a></p>\n<p>​\t\t\t\t<a href=\"#%E7%9B%AE%E5%BD%95%E7%9A%84%E7%BB%84%E7%BB%87\">目录的组织</a></p>\n<p>​\t\t\t\t<a href=\"#%E8%B7%AF%E5%BE%84\">路径</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%97%A0%E7%8E%AF%E5%9B%BE%E7%9B%AE%E5%BD%95\">无环图目录</a></p>\n<p>​\t\t\t\t<a href=\"#%E9%93%BE%E6%8E%A5\">链接</a></p>\n<p>​\t\t\t\t<a href=\"#%E9%80%9A%E7%94%A8%E5%9B%BE%E7%9B%AE%E5%BD%95\">通用图目录</a></p>\n<p><a href=\"#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%9A%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86\">文件管理：磁盘管理</a></p>\n<p>​\t\t<a href=\"#%E7%A9%BA%E9%97%B2%E5%88%86%E5%8C%BA%E8%A1%A8\">空闲分区表</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%A6%82%E5%BF%B5\">概念</a></p>\n<p>​\t\t\t\t<a href=\"#%E7%89%B9%E7%82%B9%C2%A0\">特点 </a></p>\n<p>​\t\t<a href=\"#%E7%A9%BA%E9%97%B2%E5%88%86%E5%8C%BA%E9%93%BE%E8%A1%A8\">空闲分区链表</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%A6%82%E5%BF%B5\">概念</a></p>\n<p>​\t\t\t\t<a href=\"#%E7%89%B9%E7%82%B9\">特点</a></p>\n<p>​\t\t<a href=\"#%E4%BD%8D%E7%A4%BA%E5%9B%BE\">位示图</a></p>\n<p>​\t\t<a href=\"#%E6%88%90%E7%BB%84%E5%9D%97%E9%93%BE%E6%8E%A5%E6%B3%95\">成组块链接法</a></p>\n<p>​\t\t\t\t<a href=\"#%E5%88%86%E9%85%8D%E6%96%B9%E6%B3%95\">分配方法</a></p>\n<p>​\t\t\t\t<a href=\"#%E9%87%8A%E6%94%BE%E6%96%B9%E6%B3%95\">释放方法</a></p>\n<p>​\t\t\t\t<a href=\"#%E4%BE%8B%E9%A2%98\">例题</a></p>\n<p>​\t\t<a href=\"#%E6%96%87%E4%BB%B6%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%9A%E7%9B%98%E5%9D%97\">文件一致性：盘块</a></p>\n<p>​\t\t\t\t<a href=\"#%E9%93%BE%E6%8E%A5%E6%95%B0%E4%B8%80%E8%87%B4%E6%80%A7%E6%A3%80%E6%9F%A5\">链接数一致性检查</a></p>\n<p>​\t\t<a href=\"#%E6%96%87%E4%BB%B6%E6%89%A7%E8%A1%8C\">文件执行</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">数据结构</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB\">文件共享</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C\">文件操作</a></p>\n<p>​\t\t\t\t<a href=\"#%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B\">执行过程</a></p>\n<p>​\t\t<a href=\"#%E8%99%9A%E6%8B%9F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%20VFS\">虚拟文件系统 VFS</a></p>\n<hr>\n<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>本复习笔记基于电子科技大学计算机操作系统-教学大纲（2022）中的课程模块部分，分为五大章节，分别是：</p>\n<ul>\n<li><strong>CM1****：</strong>操作系统概念。操作系统基本功能、操作系统发展历史及趋势、操作系统主流架构、常见操作系统特点、操作系统安全机制。</li>\n<li><strong>CM2****：</strong>进程管理。进程概念、线程概念、进程生命周期、进程调度算法、进程同步互斥、进程间通信和死锁。</li>\n<li><strong>CM3****：</strong>内存管理。内存空间的概念、连续分配、离散分配（分页管理、分段管理、段页式管理）、虚拟存储管理和页面置换算法。</li>\n<li><strong>CM4****：</strong>设备管理。I&#x2F;O 系统结构、缓冲管理、磁盘结构和磁盘调度算法。</li>\n<li><strong>CM5****：</strong>文件管理。文件系统的作用、逻辑结构、物理结构、目录、文件共享和文件系统的一致性。</li>\n</ul>\n<p><strong>本节是最后一部分</strong>，要点在CM5，大致内容如下：</p>\n<p>第五章 文件管理（6 学时，多媒体课件结合板书面授）CM5</p>\n<p>1、主要内容<br>文件和文件系统的概念，文件逻辑结构（堆文件、顺序文件、索引顺序文件、索引文件、HASH 文件），外存分配方法（连续分配、链接分配、索引分配），目录管理（一级目录、二级目录、多 级目录），文件存储空间的管理技术（位示图、空闲链表、索引）。文件系统性能的改善、数据一致性控制。</p>\n<p>2、应达到的要求 记忆：文件系统性能的改善、数据一致性控制。<br>理解：文件系统的基本概念、目录管理、文件共享、文件保护的方法。</p>\n<p>分析：文件逻辑结构、文件的物理结构、文件目录、外存空间的管理。</p>\n<p>一共3个PPT，就分三大块：文件管理：基础、文件管理：目录、文件管理：磁盘管理。</p>\n<hr>\n<h1 id=\"文件管理：基础\"><a href=\"#文件管理：基础\" class=\"headerlink\" title=\"文件管理：基础\"></a>文件管理：基础</h1><hr>\n<h2 id=\"基本概念\"><a href=\"#基本概念\" class=\"headerlink\" title=\"基本概念\"></a>基本概念</h2><h3 id=\"文件\"><a href=\"#文件\" class=\"headerlink\" title=\"文件\"></a>文件</h3><ul>\n<li>一种具有符号名的、相关联元素的有序集合。</li>\n<li>用户按照信息的逻辑功能将关联存储单元组织成文件。</li>\n<li>文件是信息在磁盘上存储的基本逻辑单位。</li>\n<li>文件名：对相关联元素的Naming</li>\n</ul>\n<h3 id=\"文件系统\"><a href=\"#文件系统\" class=\"headerlink\" title=\"文件系统\"></a>文件系统</h3><ul>\n<li><p>概念：</p>\n<ul>\n<li><code>对文件实施管理、控制与操作的一组软件。</code><ul>\n<li><code>用户或应用程序访问文件的唯一方式</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>目标与功能：</p>\n</li>\n<li><p>&#96;&#96;&#96;</p>\n<ul>\n<li>保证文件中的数据有效</li>\n<li>减少或消除丢失或破坏数据的可能性</li>\n<li>从系统角度优化总吞吐量，从用户角度优化响应时间</li>\n<li>为各种类型的存储设备提供I&#x2F;O支持，并提供统一接口</li>\n<li>统一管理文件的存储空间，实施存储空间的分配与回收</li>\n<li>实现文件的按名存取：文件名字空间 <img src=\"https://latex.codecogs.com/gif.latex?%5Cleftrightarrow\" alt=\"\\leftrightarrow\"> 存储空间</li>\n<li>实现文件信息共享，提供文件保护和保密措施<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n  \n\n* 用户观点\n\n  ​\t&#96;实现“按名存取”功能&#96;\n\n* 操作系统观点\n\n  ​\t&#96;文件目录怎样实现、管理存储空间、文件存储位置、磁盘实际运作方式(与设备管理的接口)&#96;\n### 文件系统的实现模型\n\n* 文件系统接口：命令、系统调用和图形窗口的文件系统访问功能。 \n* 逻辑功能层：根据接口层所发下的文件访问需求，通过相关的文件控制块、文件目录、文件分配表等，获取访问存储介质的物理参数。  \n* 物理驱动层 ：将逻辑功能层所发下的命令转化为相应的驱动程序的动作，完成对文件物理存储设备的处理。\n* ![](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;d084291ee84c4a399eb0a09cebf1780d.png)\n### 文件的组成\n\n* 文件&#x3D;元数据+文件内容\n* 元数据：文件名、内部标识(如unix的inode)、拥有者、访问时间&#x2F;权限、文件大小 ……\n### 文件名\n\n* 格式：A.B\n* A: 文件名称   B: 文件类型&#x2F;文件格式&#x2F;**文件扩展名**\n### **文件分类**\n\n* 对不同文件进行管理，提高系统效率\n* 提高用户界面友好性\n* ![](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;c77880259e9c4ea6bb7fce0fcc5636bc.png)\n* 设备文件：统一的抽象接口（了解即可）\n\n----\n\n## 文件结构\n\n### 逻辑结构\n\n从用户角度研究文件的组织形式，独立于物理存储结构\n\n* **无结构文件：流式文件**\n  * 构成文件的基本单位是字节，文件是有逻辑意义的、无结构的一串字节的集合。\n  * 自身不提供任何数据结构 提供很大的灵活性\n  * 用户自定义文件内容含义\n\n* **有结构文件：记录文件**\n  * 文件是由若干个记录组成，每个记录有一个键，可按键进行查找。\n  * 记录(record)、字段(field)、键(key)\n  * ![](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;dadd4096e48c4c6b949b0db33cd52df3.png)\n\n* **文件组织与访问**\n  * 原则：![](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;fd9409a76e624b0386ec4ee734a9dc65.png)\n    * 原则可能互相矛盾（如索引 vs. 空间）\n    * 优先级取决于使用文件的应用程序\n\n  * 堆文件：数据按到达时间顺序存放；每个记录长度、字段数量不确定；随机访问效率极低，对大多数应用都不可用；例：log（日志文件）\n  * 顺序文件：所有记录有序排列（主字段）；字段定义、记录长度固定；批处理，顺序访问最佳；查询或更新记录的交互式应用，性能差；（随机）访问大型顺序文件时性能差（包含某个key的记录）\n  * 索引顺序文件：是一个顺序文件；将顺序文件中的记录进行分组(block)；索引表仅记录每组中第一个记录的信息；组与组之间记录的关键字必须有序排列；搜索非key字段困难\n\n  * ![](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;6fda3691276d410bac628179f2a3277e.png)\n  * 索引文件：每个索引项指向一个记录，索引项按照记录中的某个关键字排序；记录大小不必相同，不必排序，存放在主文件中。 可以对不同的关键字域建立多个索引；主文件中增&#x2F;减&#x2F;变更记录时，索引文件须相应更新\n  * 直接，散列&#x2F;哈希文件：记录的存储位置由以关键字为参数的哈希函数计算得到。 记录大小一般相同；检索时给出记录的关键字值，通过哈希函数计算出该记录在文件中的位置；访问速度快， 一次只需访问一条记录时使用。例：目录、价格表、调度和名字列表等。\n\n* **有结构文件和无结构文件的区别：**\n\n* ![](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;88ffb956056b4655a6adac9f1195106a.png)\n\n### 物理结构\n\n文件的逻辑地址和物理地址文件在物理介质上的存放方式\n\n![](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;2ce52501063f493e9b424a529eddf847.png)\n\n* 文件访问方法\n\n  * 用户在使用文件时按何种次序存取文件\n    * 顺序存取：按照文件信息的逻辑顺序(记录的排列顺序)依次存取。\n    * 随机存取(直接存取）：按任意的次序对文件进行读写操作\n\n  * 与文件使用方式有关\n    * 源程序文件用顺序存取\n    * 数据库文件用随机存取\n\n  * 与存储介质的特性有关\n    * 磁带\n    * 磁盘\n\n* **⭐文件分配表**\n\n* &#96;&#96;&#96;\n  * 为了有效地管理文件存储器，通常把文件存储空间划分成若干个大小相等的物理块。\n  * 物理块是分配及传输信息的基本单位。\n  * 块的大小通常是扇区的倍数，如512B、1KB、2KB或者4KB。\n  * 文件分配表：描述文件所获得物理块的详细信息，不同的操作系统赋予了该结构不同的名字\n  \t* DOS：FAT &#x2F; Windows NTFS: MFT (master file table)\n  \t* UNIX类操作系统：inode\n  * 分配方式\n  \t* 静态分配：文件创建时申明需要的最大空间\n  \t\t* 预分配，实现简单，易于维护，但灵活性差\n  \t* 动态分配：文件存储空间按需分配\n  \t\t* 实现较复杂，需要维护较多的数据结构，实用性高</code></pre></li>\n</ul>\n</li>\n</ul>\n<p><strong>连续结构（顺序）</strong></p>\n<ul>\n<li>文件信息存放在若干连续的物理块中</li>\n<li>优点：简单；支持顺序存取和随机存取；顺序存取速度快：磁盘寻道次数（寻道时间）最少</li>\n<li>缺点：不利于文件尺寸的动态增长（插入、删除）；可能会导致磁盘碎片，降低外存空间的利用率（可以采用紧凑技术处理，从而改善）。</li>\n</ul>\n<p><strong>链接结构</strong></p>\n<ul>\n<li><p>文件信息存放在若干不连续的物理块中，各块之间通过指针连接。</p>\n<ul>\n<li><p>隐式链接</p>\n<ul>\n<li>每个物理块都设有一个指针字段，指向下一个物理块的位置。</li>\n<li>随机访问性能差</li>\n</ul>\n</li>\n<li><p>显式链接</p>\n<ul>\n<li>用于链接文件各物理块的指针，显示地存放在一张内存链表中，该表在整个磁盘中仅一张。</li>\n<li>随机性能优于隐式链接</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>优点：提高了磁盘空间利用率，不存在外部碎片问题；有利于文件插入和删除</p>\n</li>\n<li><p>缺点：更多的寻道次数和寻道时间；随机访问性能差；可靠性问题，如指针出错</p>\n</li>\n<li><p>改进方法：扩大文件块分配单位。若干个连续的数据块，称之为簇(Cluster)。</p>\n<ul>\n<li>簇（Cluster）<ul>\n<li>一组连续的扇区→虚拟扇区</li>\n<li>分配单位 Cluster&#x3D;2^n Sectors</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>索引结构</strong><br><code>文件信息存放在若干不连续物理块中，每个文件关联一个索引表，记录块号</code></p>\n<p><code>索引表就是磁盘块地址数组，第i个条目指向文件的第i块</code></p>\n<p>优点：支持随机存取（优于链接结构，找第i块更快）；满足了文件动态增长、插入删除要求；利用多级索引，可以支持大型文件的存取</p>\n<p>缺点：较多的寻道次数和寻道时间（对比页表）</p>\n<p><strong>一个数据块容纳不了一个文件的所有分区时，需要若干个索引结点进行存储</strong></p>\n<p><img src=\"https://img-blog.csdnimg.cn/3b939e7878084a7fac848f8dc45fd34e.png\"><br><strong>多级索引</strong></p>\n<ul>\n<li><p>盘块大小：1 KB，每个盘块号：4B</p>\n<ul>\n<li><code>一个索引块中可存放1K/4B=256个盘块号</code></li>\n<li><code>两级索引时， 最多可包含的存放文件的盘块总数N = 256 × 256 = 64 K个盘块号。</code></li>\n<li><code>最大文件长度：64MB</code></li>\n</ul>\n</li>\n<li><p>计算：盘块大小：4KB，盘块号：4B，一级、两级索引时最大文件分别为？</p>\n<ul>\n<li><code>4KB/4B=2^10;  1_file=2^10/*4KB=4MB; 2_file=2^10/*2^10/*4KB=4GB</code></li>\n</ul>\n</li>\n</ul>\n<p><strong>⭐综合&#x2F;混合模式</strong></p>\n<p>将多种索引分配方式相结合而形成的一种分配方式。</p>\n<p>例如，系统既采用了直接地址，又采用了一级索引分配方式，或两级索引分配方式，甚至还采用了三级索引分配方式。</p>\n<p><strong>Unix iNode</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">13个索引项，每项2个字节 前10项为直接块\n\n第11项指向一个物理块，该块中最多可放256个文件物理块的块号（一次间接寻址）。\n\n第12和第13项作为二次和三次间接寻址\n\n单个文件最大长度：（10+256+256&#x2F;*256）&#x2F;*block-storage</code></pre>\n\n\n\n<h3 id=\"练习题\"><a href=\"#练习题\" class=\"headerlink\" title=\"练习题\"></a>练习题</h3><p>设文件索引节点中有7个地址项 4个直接地址索引 2个一级间接地址索引 1个二级间接地址索引 每个地址项大小为4B 磁盘索引块和磁盘数据块均为256B</p>\n<p>问：单个文件的最大长度是多少？</p>\n<p><strong>答：每个索引块中的项目数为：256&#x2F;4&#x3D;64个</strong></p>\n<p><strong>4个直接地址索引块，可索引块数：4</strong></p>\n<p><strong>2个一级间接地址索引块，可索引块数：2×64&#x3D;128</strong></p>\n<p><strong>1个二级间接地址索引块，可索引块数：1×64×64&#x3D;4096</strong></p>\n<p>*<em>单个文件的最大长度为：（4+128+4096)&#x2F;<em>256B&#x3D;1057KB</em></em></p>\n<p>假定UNIX磁盘块的大小为1KB，每个盘块号占4个字节，文件索引节点中的磁盘地址明细表如图所示，请将下列文件的字节偏移量转换为物理地址？</p>\n<p>1． 9000          2． 14000             3． 350000 </p>\n<p><img src=\"https://img-blog.csdnimg.cn/8c0e7792e87a48e788351ff4c0e46d9d.png\"></p>\n<p>答：<strong>字节偏移量为9000时</strong></p>\n<p>逻辑块号为：9000&#x2F;1024＝8 块内偏移量为：9000 % 1024＝808 逻辑块号小于10→该块为直接块。逻辑块号8对应的物理盘块号为367，该块中的第808字节即为文件的第9000字节。 </p>\n<p><strong>字节偏移量为14000时</strong></p>\n<p>逻辑块号为：14000&#x2F;1024＝13 块内偏移量为：14000 % 1024＝688 逻辑块号9&lt;13&lt;266→该块为一次间接块。 一次间接的盘块号为428，从一次间接块中读出盘块号表，查得逻辑块号13的物理块号为952，该块中的第688字节即为文件的第14000字节。</p>\n<p><strong>字节偏移量为350000时</strong></p>\n<p>逻辑块号为：350000&#x2F;1024＝341 块内偏移量为：350000 %1024＝816 因逻辑块号265&lt;341&lt;65802(256&#x2F;*256+256+10)→该块为二次间接块。 由图可知，二次间接块的盘块号为9156。一个一次间接块中可容纳256个块号，341-10-256＝75 75&#x2F;256&#x3D;0，故字节偏移量350000在二次间接块的第0个一次间接块的第75个表项中，其盘块号为333，该块中的第816字节即为文件的第350000字节。</p>\n<hr>\n<h1 id=\"文件管理：目录\"><a href=\"#文件管理：目录\" class=\"headerlink\" title=\"文件管理：目录\"></a>文件管理：目录</h1><h2 id=\"文件控制块FCB\"><a href=\"#文件控制块FCB\" class=\"headerlink\" title=\"文件控制块FCB\"></a>文件控制块FCB</h2><h3 id=\"FCB：File-Control-Block\"><a href=\"#FCB：File-Control-Block\" class=\"headerlink\" title=\"FCB：File Control Block\"></a>FCB：File Control Block</h3><p>描述和控制文件的数据结构 与文件一一对应</p>\n<p>文件存在的标志</p>\n<p>文件控制块的组成——与操作系统相关</p>\n<h3 id=\"FCB信息\"><a href=\"#FCB信息\" class=\"headerlink\" title=\"FCB信息\"></a>FCB信息</h3><p>文件名：用户利用该名字进行存取。</p>\n<p>文件物理位置：在外存的存储位置（设备名、起始盘块号、占用的盘块等）</p>\n<p>使用信息：创建时间：create time ；最后一次读访问的时间：access time ；最后一次写访问的时间：modify time</p>\n<hr>\n<h2 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h2><h3 id=\"基本概念-1\"><a href=\"#基本概念-1\" class=\"headerlink\" title=\"基本概念\"></a>基本概念</h3><p>文件目录：一组文件的集合</p>\n<p>目录：文件元数据（控制块）的集合</p>\n<p>目录文件：目录项构成的文件</p>\n<p>递归效果：目录也用FCB表示</p>\n<p>**目录即文件 **</p>\n<p>目录文件具有固定格式 由系统进行管理，用户不能直接访问目录文件</p>\n<h3 id=\"目录功能\"><a href=\"#目录功能\" class=\"headerlink\" title=\"目录功能\"></a>目录功能</h3><ul>\n<li><p>按名存取</p>\n</li>\n<li><p>提高检索速度</p>\n<ul>\n<li><code>合理地组织目录结构，可以加快对目录的检索速度，从而提高对文件的存取速度。</code></li>\n</ul>\n</li>\n<li><p>文件共享</p>\n<ul>\n<li><code>允许共享文件，节省存储空间，方便用户。</code></li>\n</ul>\n</li>\n<li><p>允许文件重名</p>\n<ul>\n<li><code>方便用户按照自己的习惯来命名和使用文件。</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"目录基本操作\"><a href=\"#目录基本操作\" class=\"headerlink\" title=\"目录基本操作\"></a>目录基本操作</h3><ul>\n<li><p>罗列文件</p>\n</li>\n<li><p>搜索文件</p>\n<ul>\n<li><code>通过查找目录结构，实现特定文件的按名查找</code></li>\n</ul>\n</li>\n<li><p>创建文件</p>\n<ul>\n<li><code>建立新文件，将相应控制块加到目录中去</code></li>\n</ul>\n</li>\n<li><p>删除文件</p>\n<ul>\n<li><code>当一个文件不再需要时，从目录中删除</code></li>\n</ul>\n</li>\n<li><p>重命名文件</p>\n</li>\n</ul>\n<h3 id=\"⭐FCB组织方法\"><a href=\"#⭐FCB组织方法\" class=\"headerlink\" title=\"⭐FCB组织方法\"></a>⭐FCB组织方法</h3><p>计算: 一个FCB有48字节，假设物理块512字节，某目录有128个文件。 计算查找一个文件平均访盘次数。</p>\n<ul>\n<li>每块存储的FCB数量：512&#x2F;48&#x3D;10</li>\n<li>128个文件的目录文件需要磁盘块：128&#x2F;10&#x3D;13</li>\n<li>平均访盘次数：(1+13)&#x2F;2&#x3D;7**(最少一次找到，最多13次，取均值)**</li>\n</ul>\n<h3 id=\"⭐改进的FCB组织方法\"><a href=\"#⭐改进的FCB组织方法\" class=\"headerlink\" title=\"⭐改进的FCB组织方法\"></a>⭐改进的FCB组织方法</h3><p>采用目录项分解法，把FCB分成两部分</p>\n<p><img src=\"https://img-blog.csdnimg.cn/f4022d79f0ac4f61853cf0e11f37dca3.png\"></p>\n<p>一个FCB有48字节，符号目录项占 8字节（文件名6字节，文件号2字节），假设物理块512字节，某目录有128个文件。 采用改进的FCB组织方法，查找一个文件平均访盘次数。</p>\n<p>每块存储的符号目录项：512&#x2F;8&#x3D;64</p>\n<p>每块存储的基本目录项：512&#x2F;42&#x3D;12</p>\n<p>128个文件，符号文件、基本文件分别需要：128&#x2F;64&#x3D;2, 128&#x2F;12&#x3D;11</p>\n<p>平均访盘次数：(1+2)&#x2F;2+1&#x3D;2.5**(最少一次查找符号目录，最多两次，取均值，再加上一次精准查找的基本目录项)**</p>\n<h3 id=\"目录的组织\"><a href=\"#目录的组织\" class=\"headerlink\" title=\"目录的组织\"></a>目录的组织</h3><ul>\n<li><p>组织文件目录是文件系统的主要内容之一</p>\n</li>\n<li><p>有效性：快速定位一个文件</p>\n</li>\n<li><p>命名：用户使用方便</p>\n<ul>\n<li>两个用户对不同的文件可以使用同一个文件名</li>\n<li>同一个文件可能有不同的文件名<ul>\n<li>文件数据，元数据</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>空目录≠文件数为0的目录：<strong>不存在文件数为0的目录！</strong></p>\n</li>\n<li><p><strong>单级目录结构</strong></p>\n<ul>\n<li>所有文件都包含在同一目录中</li>\n<li>缺点：查找速度慢；不允许重名；不便于共享；不能分组</li>\n</ul>\n</li>\n<li><p><strong>两级目录结构</strong></p>\n<ul>\n<li>为每个用户创建单独的目录</li>\n<li>用户文件目录UFD 主文件目录MFD</li>\n<li><img src=\"https://img-blog.csdnimg.cn/68ac90afd0e0406f936fa9c965421c80.png\"></li>\n<li>优点：不同用户可以有相同的文件名；提高了检索速度；将一个用户与另一个用户有效隔开  </li>\n<li>缺点：不利于文件的共享</li>\n</ul>\n</li>\n<li><p><strong>树状目录结构</strong></p>\n<ul>\n<li><img src=\"https://img-blog.csdnimg.cn/84bac024d597469387fa5c1c6d23789f.png\"></li>\n<li>每一级目录可以包含文件，也可以包含下一级目录。</li>\n<li>只有一个根目录，除根目录外，其余每个目录或者文件都有唯一的一个上级目录。（父目录、子目录）</li>\n<li>优点：文件的层次和隶属关系清晰；便于实现不同级别的存取保护和文件系统的动态装卸</li>\n<li>缺点：不便于共享（相比较而言）</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"路径\"><a href=\"#路径\" class=\"headerlink\" title=\"路径\"></a>路径</h3><p>从树根(namespace)到节点的唯一表达</p>\n<p>不同文件→文件可以同名，但路径名不同。（路径名不同 ≠ 文件不同）</p>\n<p>文件可按照相对于工作目录的方式访问：</p>\n<p>绝对路径(absolute)：从根目录开始指定</p>\n<p>相对路径(relative)：从当前工作目录开始（.&#x2F;当前目录）（..&#x2F;上一级目录）</p>\n<p><strong>练习：当前目录&#x2F;spell&#x2F;mail&#x2F;copy 请用绝对和相对路径表达红色箭头文件</strong></p>\n<p><img src=\"https://img-blog.csdnimg.cn/cfa8013404a64e93b6e76011b03d15b7.png\"></p>\n<p>prog: .&#x2F;prog ; &#x2F;spell&#x2F;mail&#x2F;prog</p>\n<p>find:  …&#x2F;programs&#x2F;p&#x2F;find ; &#x2F;programs&#x2F;p&#x2F;find</p>\n<p>all: &#x2F;all ; &#x2F;spell&#x2F;mail&#x2F;copy&#x2F;all</p>\n<p>first: .&#x2F;prt&#x2F;first ; &#x2F;spell&#x2F;mail&#x2F;prt&#x2F;first</p>\n<h3 id=\"无环图目录\"><a href=\"#无环图目录\" class=\"headerlink\" title=\"无环图目录\"></a>无环图目录</h3><p>在树型目录的基础上，允许多个目录项指向同一个数据文件或者目录文件，实现了目录或者数据文件的共享</p>\n<p>一个文件或者目录在多个父目录中占有项目</p>\n<p>目录结构不再是一颗树，而是一个无环图</p>\n<p><img src=\"https://img-blog.csdnimg.cn/bbe265d06a194db9aaf6b25d2d1fddbc.png\"></p>\n<p>实现共享文件：多个用户同时访问一个文件，可节约存储空间</p>\n<p>数据复制：数据不一致</p>\n<p>通过路径名共享：不灵活</p>\n<p>链接：在多个目录中对要共享的文件建立相应的表项，一个文件或目录在目录树中多处出现（引用） 在外存上只有一份物理存储。</p>\n<h3 id=\"链接\"><a href=\"#链接\" class=\"headerlink\" title=\"链接\"></a>链接</h3><p><img src=\"https://img-blog.csdnimg.cn/f2786746a7654325807d5dc55355dd03.png\"></p>\n<p>硬链接：多个文件名链接到同一个索引结点，链接文件和被链接文件必须位于同一个文件系统中。</p>\n<p>软链接：符号链接(symbolic link, shortcut) 特殊类型的文件，其内容是另一个目录或文件的路径。 无硬链接的限制，可跨盘，跨目录，甚至跨机器。建立符号链接文件，并不影响原文件→它们是独立的文件。 </p>\n<p>缺点： 空间和时间开销更大；如果设置不当，上下级目录关系可能会形成环状</p>\n<p>硬链接和软链接的比较</p>\n<p><strong>硬链接</strong></p>\n<p>只允许文件链接，不允许目录链接；</p>\n<p>只能在同一个文件系统范围内进行，不允许跨文件系统。</p>\n<p>删除文件时，如果还有其他链接链至该文件，则该文件不能被删除。</p>\n<p><strong>软链接</strong></p>\n<p>访问速度相对慢一些，但适用范围和灵活性要大一些。</p>\n<p>允许目录链接，允许在不同的文件系统间进行链接，这两个文件系统可以在同一个计算机上，也可以在不同的计算机上。</p>\n<p>被链接文件的删除和符号链接的删除是完全独立的</p>\n<h3 id=\"通用图目录\"><a href=\"#通用图目录\" class=\"headerlink\" title=\"通用图目录\"></a>通用图目录</h3><p>无环图目录结构中，加上允许子目录对上层目录的引用的条件</p>\n<p><img src=\"https://img-blog.csdnimg.cn/45c34e1a5699468bb64623d71e8e980a.png\"></p>\n<p>允许环存在：搜索子目录时要避免无穷地循环搜索——限制访问目录的次数来确定；释放孤立环（orphan cycle）——垃圾回收（garbage collection） 。</p>\n<hr>\n<h1 id=\"文件管理：磁盘管理\"><a href=\"#文件管理：磁盘管理\" class=\"headerlink\" title=\"文件管理：磁盘管理\"></a>文件管理：磁盘管理</h1><p>磁盘存储器</p>\n<p>文件存储空间的分配单位是磁盘块而非字节；</p>\n<p>文件系统必须记录存储空间的使用情况；</p>\n<p>文件系统对存储空间进行分配和回收；</p>\n<p>常用的磁盘空间的管理方式有：</p>\n<p><img src=\"https://img-blog.csdnimg.cn/7fef47bc8b6349deac6ea011922008c3.png\"></p>\n<hr>\n<h2 id=\"空闲分区表\"><a href=\"#空闲分区表\" class=\"headerlink\" title=\"空闲分区表\"></a>空闲分区表</h2><h3 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h3><p>将空闲分区登记在一张表中，一个分区对应一个表项，每个表项包含有空闲分区号、分区起始块号、分区长度等主要信息，按起始块序号排序</p>\n<p><img src=\"https://img-blog.csdnimg.cn/41867c0f5ed74da1b9e0ce6af08a93cf.png\"></p>\n<h3 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h3><ul>\n<li>实现简单</li>\n<li>将各空闲分区按照长度有序进行排列，能很快找到需要大小的空闲分区。 (排序规则不固定）</li>\n<li>当空闲分区分布较分散且数量较多时，空闲分区表将会很大。</li>\n</ul>\n<p>  </p>\n<hr>\n<h2 id=\"空闲分区链表\"><a href=\"#空闲分区链表\" class=\"headerlink\" title=\"空闲分区链表\"></a>空闲分区链表</h2><h3 id=\"概念-1\"><a href=\"#概念-1\" class=\"headerlink\" title=\"概念\"></a>概念</h3><p>利用空闲分区空间通过指针将各个空闲分区连接起来，并记载各空闲分区大小。</p>\n<p>无空闲分区表的额外空间开销。</p>\n<h3 id=\"特点-1\"><a href=\"#特点-1\" class=\"headerlink\" title=\"特点\"></a>特点</h3><p>回收由许多离散小分区组成的文件时，小分区链接到空闲分区链表中需要很长时间（按照某种规则，大小或者位置）。</p>\n<p>类比可变分区管理</p>\n<p><img src=\"https://img-blog.csdnimg.cn/6a84c9b6700040d38a5b25a89d9fb57e.png\"></p>\n<hr>\n<h2 id=\"位示图\"><a href=\"#位示图\" class=\"headerlink\" title=\"位示图\"></a>位示图</h2><ul>\n<li><p>一个向量，每位(bit)对应于磁盘中的一个块(block)</p>\n<ul>\n<li><code>空闲块：0，已使用块：1</code></li>\n</ul>\n</li>\n<li><p>方便地查找一个或一组连续的空闲分区。</p>\n</li>\n<li><p>位示图需要占用的存储空间大小</p>\n<ul>\n<li><code>磁盘容量（字节数）/ （8×数据块大小） Byte</code></li>\n</ul>\n</li>\n<li><p>大位示图搜索将会降低文件系统的性能</p>\n</li>\n</ul>\n<p> </p>\n<hr>\n<h2 id=\"成组块链接法\"><a href=\"#成组块链接法\" class=\"headerlink\" title=\"成组块链接法\"></a>成组块链接法</h2><ul>\n<li><p>将所有空闲块每n块划分为一组，用索引表表示</p>\n</li>\n<li><p>每组的第一块用来存放后一组中各块的块号和总块数</p>\n<ul>\n<li><code>各组间自然构成链表</code></li>\n</ul>\n</li>\n<li><p>第一组的块号与总块数放在一个专用栈中：空闲盘块号栈</p>\n<ul>\n<li><code>栈计数count：栈中的空闲块数目</code></li>\n<li><code>栈中的元素是空闲块编号</code></li>\n</ul>\n</li>\n<li><p>对块的分配和释放在栈中进行</p>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/f77bbf2e71e74fcd9a96ea72bc4f37f8.png\"></p>\n<h3 id=\"分配方法\"><a href=\"#分配方法\" class=\"headerlink\" title=\"分配方法\"></a><strong>分配方法</strong></h3><ul>\n<li>查看栈中是否count&#x3D;&#x3D;1，若不是，那么就弹出栈顶元素N（表示可用磁盘块号），分配出去，–count；若是，弹出栈顶元素N，把空闲块N中的内容读入到栈中；返回空闲块编号N。因为所分配的磁盘块号是栈中<strong>最后一个可用盘块号</strong>，由于在<strong>该盘块中存放了下一组的所有盘块号</strong>，于是要<strong>先将该块的内容读入栈中，然后才能将该块分配出去</strong></li>\n</ul>\n<h3 id=\"释放方法\"><a href=\"#释放方法\" class=\"headerlink\" title=\"释放方法\"></a><strong>释放方法</strong></h3><ul>\n<li>被释放空闲块为编号N。查看是否栈已满，若不是，则N入栈，++count； 若是，则将栈（包括栈计数）写入到空闲块N，然后把N放入栈顶并置count为1。说明栈已满，须先将栈中所有盘块号复制到新回收的盘块中，再将新回收盘块的编号放到栈中，成为栈中第一个盘块</li>\n</ul>\n<h3 id=\"例题\"><a href=\"#例题\" class=\"headerlink\" title=\"例题\"></a>例题</h3><p><img src=\"https://img-blog.csdnimg.cn/dc8368e317f047ecb26d7b2283af3bb4.png\"></p>\n<p>**解：92&#x3D;41+50+1，所以是&#x2F;#400最下面的一个，也就是401。 **</p>\n<hr>\n<h2 id=\"文件一致性：盘块\"><a href=\"#文件一致性：盘块\" class=\"headerlink\" title=\"文件一致性：盘块\"></a>文件一致性：盘块</h2><h3 id=\"链接数一致性检查\"><a href=\"#链接数一致性检查\" class=\"headerlink\" title=\"链接数一致性检查\"></a>链接数一致性检查</h3><p>每个目录项都含有一个索引结点号</p>\n<p>共享文件的索引结点号会在目录中出现多次</p>\n<p>若某文件被共享（硬链接）N次，其索引结点号会在目录中出现N次；</p>\n<p>另一方面，该共享文件索引结点中的链接计数count，用来指出共享本文件的引用数。</p>\n<p>正常情况下这两个数据应该一致</p>\n<p>数据块使用数组和空闲数组互补</p>\n<p><img src=\"https://img-blog.csdnimg.cn/58839453da024da39d2ce71be26ce621.png\"></p>\n<hr>\n<h2 id=\"文件执行\"><a href=\"#文件执行\" class=\"headerlink\" title=\"文件执行\"></a>文件执行</h2><p><img src=\"https://img-blog.csdnimg.cn/f827799e5ea648a7870f92ec396f3466.png\"></p>\n<h3 id=\"数据结构\"><a href=\"#数据结构\" class=\"headerlink\" title=\"数据结构\"></a>数据结构</h3><p><img src=\"https://img-blog.csdnimg.cn/06a7a67d2ef74a7381f3cad78f713427.png\"><br>用户打开文件表：每个进程一个，记录用户打开文件 </p>\n<p>系统文件打开表：整个系统一张：放在内存，用于保存已打开文件的FCB文件号、共享计数（打开共享）、读写位置、打开模式、修改标志等；指向内存inode（也有共享计数）</p>\n<p>内存inode表：操作文件时要将磁盘inode加载到内存中；访问速度；共享控制（计数）</p>\n<p>三张表之间的关系</p>\n<p><img src=\"https://img-blog.csdnimg.cn/2e017f70dee440b1acd41117b5bc7208.png\"></p>\n<h3 id=\"文件共享\"><a href=\"#文件共享\" class=\"headerlink\" title=\"文件共享\"></a>文件共享</h3><p><strong>不同进程独立访问</strong></p>\n<p><img src=\"https://img-blog.csdnimg.cn/41b57206f18f438e831a3f3990ece3bf.png\"></p>\n<p><strong>同进程复制fd</strong>：dup() &#x2F; dup2() &#x2F; fcntl()</p>\n<p><img src=\"https://img-blog.csdnimg.cn/9dc42ead4424402faa2583da0b2db8a9.png\"></p>\n<p><strong>跨进程复制fd</strong>：fork() </p>\n<p><img src=\"https://img-blog.csdnimg.cn/40a26cc085504b74a75f583d2f252bfb.png\"></p>\n<p>fork()可以共享文件，但是**fork()以后打开文件则不共享 **</p>\n<h3 id=\"文件操作\"><a href=\"#文件操作\" class=\"headerlink\" title=\"文件操作\"></a>文件操作</h3><p><img src=\"https://img-blog.csdnimg.cn/022622a930e34a4ead246aa2928a664b.png\"></p>\n<h3 id=\"执行过程\"><a href=\"#执行过程\" class=\"headerlink\" title=\"执行过程\"></a>执行过程</h3><p>create：实质是建立FCB，返回一个文件描述符</p>\n<p>open：把FCB送到内存，创建用户、系统打开文件表项，建立与内存inode三者关联，返回文件描述符</p>\n<p>close：缓存数据写回磁盘；清理用户文件打开表；清理系统文件打开表；清理内存inode表</p>\n<hr>\n<h2 id=\"虚拟文件系统-VFS\"><a href=\"#虚拟文件系统-VFS\" class=\"headerlink\" title=\"虚拟文件系统 VFS\"></a>虚拟文件系统 VFS</h2><p>支持面向对象式的文件系统实现——多态</p>\n<p>用户程序：统一接口</p>\n<p>底层支持：不同文件系统</p>\n<p>VFS接口：API，而非具体的文件系统实现</p>\n<p><img src=\"https://img-blog.csdnimg.cn/3854d1c243dd49708fec136b561e49f4.png\"></p>\n","feature":true,"text":"目录 前言 文件管理：基础 ​ 基本概念 ​ 文件 ​ 文件系统 ​ 文件系统的实现模型 ​ 文件的组成 ​ 文件名 ​ 文件分类 ​ 文件结构 ​ 逻辑结构 ​ 物理结构 ​ 练习题 文件管理：目录 ​ 文件控制块FCB ​ FCB：File Control Block ​ F...","link":"","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"复习笔记","slug":"复习笔记","count":5,"path":"api/categories/复习笔记.json"}],"tags":[{"name":"OS","slug":"OS","count":3,"path":"api/tags/OS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%9A%E5%9F%BA%E7%A1%80\"><span class=\"toc-text\">文件管理：基础</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">基本概念</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">文件系统</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%83%E4%B9%A0%E9%A2%98\"><span class=\"toc-text\">练习题</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%9A%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">文件管理：目录</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97FCB\"><span class=\"toc-text\">文件控制块FCB</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#FCB%EF%BC%9AFile-Control-Block\"><span class=\"toc-text\">FCB：File Control Block</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#FCB%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">FCB信息</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">目录</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1\"><span class=\"toc-text\">基本概念</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%9B%AE%E5%BD%95%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">目录功能</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%9B%AE%E5%BD%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">目录基本操作</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E2%AD%90FCB%E7%BB%84%E7%BB%87%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">⭐FCB组织方法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E2%AD%90%E6%94%B9%E8%BF%9B%E7%9A%84FCB%E7%BB%84%E7%BB%87%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">⭐改进的FCB组织方法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%9B%AE%E5%BD%95%E7%9A%84%E7%BB%84%E7%BB%87\"><span class=\"toc-text\">目录的组织</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%B7%AF%E5%BE%84\"><span class=\"toc-text\">路径</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%97%A0%E7%8E%AF%E5%9B%BE%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">无环图目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">链接</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%80%9A%E7%94%A8%E5%9B%BE%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">通用图目录</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%9A%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">文件管理：磁盘管理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%A9%BA%E9%97%B2%E5%88%86%E5%8C%BA%E8%A1%A8\"><span class=\"toc-text\">空闲分区表</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">概念</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">特点</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%A9%BA%E9%97%B2%E5%88%86%E5%8C%BA%E9%93%BE%E8%A1%A8\"><span class=\"toc-text\">空闲分区链表</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A6%82%E5%BF%B5-1\"><span class=\"toc-text\">概念</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%B9%E7%82%B9-1\"><span class=\"toc-text\">特点</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%8D%E7%A4%BA%E5%9B%BE\"><span class=\"toc-text\">位示图</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%88%90%E7%BB%84%E5%9D%97%E9%93%BE%E6%8E%A5%E6%B3%95\"><span class=\"toc-text\">成组块链接法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E9%85%8D%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">分配方法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%87%8A%E6%94%BE%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">释放方法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BE%8B%E9%A2%98\"><span class=\"toc-text\">例题</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%9A%E7%9B%98%E5%9D%97\"><span class=\"toc-text\">文件一致性：盘块</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%93%BE%E6%8E%A5%E6%95%B0%E4%B8%80%E8%87%B4%E6%80%A7%E6%A3%80%E6%9F%A5\"><span class=\"toc-text\">链接数一致性检查</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E6%89%A7%E8%A1%8C\"><span class=\"toc-text\">文件执行</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">数据结构</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB\"><span class=\"toc-text\">文件共享</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">文件操作</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B\"><span class=\"toc-text\">执行过程</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%99%9A%E6%8B%9F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F-VFS\"><span class=\"toc-text\">虚拟文件系统 VFS</span></a></li></ol></li></ol>","author":{"name":"涛","slug":"blog-author","avatar":"https://up.enterdesk.com/edpic_source/44/ff/3d/44ff3d6bd2819d524facfcc33205d4cd.jpg","link":"/","description":"一位Computer Science的学生","socials":{"github":"https://github.com/Blizzard-cyber","twitter":"","stackoverflow":"https://stackoverflow.com/users/17709435/blizzard","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/wan-meng-ci-yi-xi","csdn":"https://blog.csdn.net/qq_55751352?spm=1010.2135.3001.5343","juejin":"https://juejin.cn/user/1289054417332301","customs":{}}},"mapped":true,"prev_post":{"title":"计算机操作系统复习笔记（一）","uid":"36aa3041fb4e01bf3bb1e7de215967c2","slug":"OSreview1","date":"2023-03-16T14:27:01.000Z","updated":"2023-03-16T14:31:14.945Z","comments":true,"path":"api/articles/OSreview1.json","keywords":null,"cover":"https://picx.zhimg.com/v2-ab4d2e1f84d9a3d9cd65d7894164bcea_1440w.jpg?source=172ae18b","text":"第一部分 操作系统概述目录 前言 操作系统概述 ​ 操作系统的目标与功能 ​ 操作系统的定义 ​ 目标 ​ 功能 ​ 操作系统的历史 ​ 单用户系统 ​ 简单批处理系统 ​ 多道批处理系统 ​ 分时系统 ​ 个人电脑 → 分布式系统 → 互联网时代 → 移动计算时代 → …… ​...","link":"","photos":[],"count_time":{"symbolsCount":"34k","symbolsTime":"31 mins."},"categories":[{"name":"复习笔记","slug":"复习笔记","count":5,"path":"api/categories/复习笔记.json"}],"tags":[{"name":"OS","slug":"OS","count":3,"path":"api/tags/OS.json"}],"author":{"name":"涛","slug":"blog-author","avatar":"https://up.enterdesk.com/edpic_source/44/ff/3d/44ff3d6bd2819d524facfcc33205d4cd.jpg","link":"/","description":"一位Computer Science的学生","socials":{"github":"https://github.com/Blizzard-cyber","twitter":"","stackoverflow":"https://stackoverflow.com/users/17709435/blizzard","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/wan-meng-ci-yi-xi","csdn":"https://blog.csdn.net/qq_55751352?spm=1010.2135.3001.5343","juejin":"https://juejin.cn/user/1289054417332301","customs":{}}},"feature":true},"next_post":{"title":"人工智能复习笔记","uid":"bfead0d4bc485b773913efadd71ce0ad","slug":"AIreview","date":"2023-03-16T09:59:30.000Z","updated":"2023-03-16T14:44:49.325Z","comments":true,"path":"api/articles/AIreview.json","keywords":null,"cover":"https://inst.eecs.berkeley.edu/~cs188/sp21/assets/images/cs188_bot.png","text":"第一部分 搜索问题目录 ​ 前言 ​ 人工智能历史 ​ 搜索问题 ​ 什么是搜索问题？ ​ 不知情搜索算法（Uninformed Search） ​ 一些重要概念 ​ 深度优先搜索（DFS） ​ 广度优先搜索（BFS） ​ 代价敏感搜索（CCS） ​ 代价一致搜索（UCS） ​ ...","link":"","photos":[],"count_time":{"symbolsCount":"18k","symbolsTime":"16 mins."},"categories":[{"name":"复习笔记","slug":"复习笔记","count":5,"path":"api/categories/复习笔记.json"}],"tags":[{"name":"AI","slug":"AI","count":1,"path":"api/tags/AI.json"}],"author":{"name":"涛","slug":"blog-author","avatar":"https://up.enterdesk.com/edpic_source/44/ff/3d/44ff3d6bd2819d524facfcc33205d4cd.jpg","link":"/","description":"一位Computer Science的学生","socials":{"github":"https://github.com/Blizzard-cyber","twitter":"","stackoverflow":"https://stackoverflow.com/users/17709435/blizzard","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/wan-meng-ci-yi-xi","csdn":"https://blog.csdn.net/qq_55751352?spm=1010.2135.3001.5343","juejin":"https://juejin.cn/user/1289054417332301","customs":{}}}}}